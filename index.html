<!DOCTYPE html>
<html lang="id">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Bilinear Interpolation - Dokumentasi Interaktif</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Georgia', 'Times New Roman', serif;
            line-height: 1.8;
            background: #f5f5f5;
            color: #000;
            padding: 20px;
        }

        .container {
            max-width: 1100px;
            margin: 0 auto;
            background: white;
            padding: 50px;
            box-shadow: 0 0 10px rgba(0,0,0,0.1);
        }

        header {
            text-align: center;
            margin-bottom: 40px;
            padding-bottom: 20px;
            border-bottom: 3px solid #000;
        }

        header h1 {
            font-size: 2.2em;
            margin-bottom: 10px;
        }

        .interactive-hint {
            background: #ffffcc;
            border: 2px solid #e0e000;
            padding: 15px;
            margin: 20px 0;
            border-radius: 5px;
            text-align: center;
            font-weight: bold;
        }

        .section {
            margin: 40px 0;
        }

        h2 {
            font-size: 1.8em;
            margin-bottom: 20px;
            border-bottom: 2px solid #000;
            padding-bottom: 8px;
        }

        h3 {
            font-size: 1.4em;
            margin: 25px 0 15px 0;
        }

        .hover-box {
            background: #f9f9f9;
            border: 2px solid #ddd;
            padding: 20px;
            margin: 20px 0;
            cursor: pointer;
            transition: all 0.3s;
            position: relative;
        }

        .hover-box:hover {
            background: #fff;
            border-color: #000;
            box-shadow: 0 5px 15px rgba(0,0,0,0.2);
        }

        .hover-box .title {
            font-weight: bold;
            font-size: 1.2em;
            margin-bottom: 10px;
        }

        .hover-box .hint {
            color: #666;
            font-style: italic;
            font-size: 0.9em;
        }

        .visualization {
            display: none;
            margin-top: 20px;
            padding: 20px;
            background: white;
            border: 2px solid #000;
            border-radius: 5px;
        }

        .hover-box:hover .visualization {
            display: block;
        }

        canvas {
            border: 1px solid #ccc;
            display: block;
            margin: 15px auto;
            background: white;
        }

        .code-box {
            background: #f5f5f5;
            border-left: 4px solid #000;
            padding: 15px;
            margin: 20px 0;
            font-family: 'Courier New', monospace;
            font-size: 0.9em;
        }

        .formula-box {
            background: white;
            border: 2px solid #000;
            padding: 20px;
            margin: 20px 0;
            text-align: center;
            font-size: 1.3em;
        }

        .comparison-table {
            width: 100%;
            border-collapse: collapse;
            margin: 20px 0;
        }

        .comparison-table th {
            background: #000;
            color: white;
            padding: 12px;
            text-align: left;
        }

        .comparison-table td {
            padding: 12px;
            border: 1px solid #ddd;
        }

        .comparison-table tr:nth-child(even) {
            background: #f9f9f9;
        }

        .step-indicator {
            display: inline-block;
            background: #000;
            color: white;
            width: 30px;
            height: 30px;
            border-radius: 50%;
            text-align: center;
            line-height: 30px;
            margin-right: 10px;
            font-weight: bold;
        }

        .screenshot {
            background: #000;
            color: #0f0;
            padding: 20px;
            margin: 20px 0;
            font-family: 'Courier New', monospace;
            font-size: 0.85em;
            border-radius: 5px;
            overflow-x: auto;
        }

        footer {
            margin-top: 50px;
            padding-top: 20px;
            border-top: 2px solid #000;
            text-align: center;
            color: #666;
        }

        @media print {
            .hover-box .visualization {
                display: block !important;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <header>
            <h1>BILINEAR INTERPOLATION</h1>
            <p style="font-size: 1.2em; margin-top: 10px;">Dokumentasi Interaktif dengan Visualisasi</p>
            <p style="margin-top: 15px;">Andi Agung Dwi Arya | Algoritma Komputasi S2 - 2025</p>
        </header>

        <div class="interactive-hint">
            üí° <strong>PETUNJUK:</strong> Arahkan cursor (hover) pada kotak abu-abu untuk melihat visualisasi interaktif
        </div>

        <!-- SECTION 1: KONSEP DASAR -->
        <div class="section">
            <h2>1. KONSEP DASAR</h2>

            <p>
                <strong>Bilinear Interpolation</strong> adalah metode untuk menghitung nilai pixel pada
                koordinat desimal (non-integer) dengan menggunakan <strong>weighted average dari 4 pixel
                tetangga terdekat</strong>.
            </p>

            <!-- HOVER BOX 1: ILUSTRASI 4 TETANGGA -->
            <div class="hover-box">
                <div class="title">üìç Visualisasi: 4 Pixel Tetangga</div>
                <div class="hint">Hover untuk melihat posisi 4 tetangga (f‚ÇÄ‚ÇÄ, f‚ÇÅ‚ÇÄ, f‚ÇÄ‚ÇÅ, f‚ÇÅ‚ÇÅ)</div>

                <div class="visualization">
                    <canvas id="canvas1" width="400" height="400"></canvas>
                    <p style="text-align: center; margin-top: 10px; font-style: italic;">
                        Titik P(x,y) dihitung dari 4 pixel sudut dengan koordinat integer
                    </p>
                </div>
            </div>

            <h3>Formula Matematis</h3>
            <div class="formula-box">
                f(x,y) = f‚ÇÄ‚ÇÄ¬∑w‚ÇÄ‚ÇÄ + f‚ÇÅ‚ÇÄ¬∑w‚ÇÅ‚ÇÄ + f‚ÇÄ‚ÇÅ¬∑w‚ÇÄ‚ÇÅ + f‚ÇÅ‚ÇÅ¬∑w‚ÇÅ‚ÇÅ
            </div>

            <!-- HOVER BOX 2: PERHITUNGAN BOBOT -->
            <div class="hover-box">
                <div class="title">‚öñÔ∏è Visualisasi: Perhitungan Bobot</div>
                <div class="hint">Hover untuk melihat bagaimana bobot dihitung berdasarkan jarak</div>

                <div class="visualization">
                    <p><strong>Rumus Bobot:</strong></p>
                    <ul style="margin: 15px 0 15px 30px;">
                        <li>w‚ÇÄ‚ÇÄ = (1 - fx) √ó (1 - fy) ‚Üí Bobot kiri-atas</li>
                        <li>w‚ÇÅ‚ÇÄ = fx √ó (1 - fy) ‚Üí Bobot kanan-atas</li>
                        <li>w‚ÇÄ‚ÇÅ = (1 - fx) √ó fy ‚Üí Bobot kiri-bawah</li>
                        <li>w‚ÇÅ‚ÇÅ = fx √ó fy ‚Üí Bobot kanan-bawah</li>
                    </ul>
                    <canvas id="canvas2" width="450" height="350"></canvas>
                    <p style="text-align: center; margin-top: 10px; font-style: italic;">
                        Bobot berbanding terbalik dengan jarak (semakin dekat = semakin besar bobotnya)
                    </p>
                </div>
            </div>
        </div>

        <!-- SECTION 2: LANGKAH-LANGKAH ALGORITMA -->
        <div class="section">
            <h2>2. LANGKAH-LANGKAH ALGORITMA</h2>

            <!-- HOVER BOX 3: STEP BY STEP -->
            <div class="hover-box">
                <div class="title">üîÑ Visualisasi: Proses Step-by-Step</div>
                <div class="hint">Hover untuk melihat alur eksekusi lengkap algoritma</div>

                <div class="visualization">
                    <div style="margin: 20px 0;">
                        <p><span class="step-indicator">1</span><strong>Tentukan 4 pixel tetangga</strong></p>
                        <div class="code-box">
x0 = floor(x)    // Koordinat kiri<br>
y0 = floor(y)    // Koordinat atas<br>
x1 = x0 + 1      // Koordinat kanan<br>
y1 = y0 + 1      // Koordinat bawah
                        </div>
                    </div>

                    <div style="margin: 20px 0;">
                        <p><span class="step-indicator">2</span><strong>Hitung fraksi (jarak relatif)</strong></p>
                        <div class="code-box">
fx = x - x0      // Jarak horizontal (0-1)<br>
fy = y - y0      // Jarak vertikal (0-1)
                        </div>
                    </div>

                    <div style="margin: 20px 0;">
                        <p><span class="step-indicator">3</span><strong>Ambil nilai 4 tetangga</strong></p>
                        <div class="code-box">
f00 = image[x0][y0]   // Kiri-atas<br>
f10 = image[x1][y0]   // Kanan-atas<br>
f01 = image[x0][y1]   // Kiri-bawah<br>
f11 = image[x1][y1]   // Kanan-bawah
                        </div>
                    </div>

                    <div style="margin: 20px 0;">
                        <p><span class="step-indicator">4</span><strong>Hitung bobot</strong></p>
                        <div class="code-box">
w00 = (1-fx) √ó (1-fy)<br>
w10 = fx √ó (1-fy)<br>
w01 = (1-fx) √ó fy<br>
w11 = fx √ó fy
                        </div>
                    </div>

                    <div style="margin: 20px 0;">
                        <p><span class="step-indicator">5</span><strong>Hitung hasil (weighted sum)</strong></p>
                        <div class="code-box">
result = f00√ów00 + f10√ów10 + f01√ów01 + f11√ów11
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- SECTION 3: IMPLEMENTASI -->
        <div class="section">
            <h2>3. IMPLEMENTASI SERIAL VS OPENMP</h2>

            <!-- HOVER BOX 4: PERBANDINGAN KODE -->
            <div class="hover-box">
                <div class="title">üíª Visualisasi: Perbandingan Kode Serial vs OpenMP</div>
                <div class="hint">Hover untuk melihat perbedaan implementasi</div>

                <div class="visualization">
                    <h3>Serial (Sequential)</h3>
                    <div class="code-box">
<span style="color: #666;">/* Loop biasa - sequential */</span><br>
<span style="font-weight: bold;">for</span> (y = 0; y &lt; height; y++) {<br>
&nbsp;&nbsp;&nbsp;&nbsp;<span style="font-weight: bold;">for</span> (x = 0; x &lt; width; x++) {<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;pixel = bilinearInterpolasi(img, x, y);<br>
&nbsp;&nbsp;&nbsp;&nbsp;}<br>
}
                    </div>

                    <h3 style="margin-top: 20px;">OpenMP (Parallel)</h3>
                    <div class="code-box">
<span style="color: #666;">/* Paralelisasi dengan pragma OpenMP */</span><br>
<span style="font-weight: bold; color: #d00;">#pragma omp parallel for collapse(2)</span><br>
<span style="font-weight: bold;">for</span> (y = 0; y &lt; height; y++) {<br>
&nbsp;&nbsp;&nbsp;&nbsp;<span style="font-weight: bold;">for</span> (x = 0; x &lt; width; x++) {<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;pixel = bilinearInterpolasi(img, x, y);<br>
&nbsp;&nbsp;&nbsp;&nbsp;}<br>
}
                    </div>

                    <p style="margin-top: 15px;"><strong>Perbedaan:</strong> Hanya +1 baris pragma untuk paralelisasi!</p>
                </div>
            </div>

            <h3>Perbandingan Karakteristik</h3>
            <table class="comparison-table">
                <thead>
                    <tr>
                        <th>Aspek</th>
                        <th>Serial</th>
                        <th>OpenMP</th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td><strong>Eksekusi</strong></td>
                        <td>Sequential (1 pixel per waktu)</td>
                        <td>Parallel (N pixels bersamaan)</td>
                    </tr>
                    <tr>
                        <td><strong>Jumlah Cores</strong></td>
                        <td>1 core</td>
                        <td>2, 4, 8, ... cores</td>
                    </tr>
                    <tr>
                        <td><strong>Speedup</strong></td>
                        <td>1.0√ó (baseline)</td>
                        <td>3-6√ó (pada 8 cores)</td>
                    </tr>
                    <tr>
                        <td><strong>Overhead</strong></td>
                        <td>0 ms</td>
                        <td>~5-10 ms</td>
                    </tr>
                    <tr>
                        <td><strong>Kompleksitas Kode</strong></td>
                        <td>Simple</td>
                        <td>+1 pragma line</td>
                    </tr>
                </tbody>
            </table>
        </div>

        <!-- SECTION 4: HASIL BENCHMARK -->
        <div class="section">
            <h2>4. HASIL BENCHMARK</h2>

            <!-- HOVER BOX 5: GRAFIK PERFORMA -->
            <div class="hover-box">
                <div class="title">üìä Visualisasi: Grafik Speedup</div>
                <div class="hint">Hover untuk melihat grafik performa Serial vs OpenMP</div>

                <div class="visualization">
                    <canvas id="canvas3" width="700" height="450"></canvas>
                    <p style="text-align: center; margin-top: 10px; font-style: italic;">
                        Grafik menunjukkan speedup meningkat dengan penambahan threads
                    </p>
                </div>
            </div>

            <h3>Screenshot Output Program</h3>
            <div class="screenshot">
<pre>========================================================================
              BENCHMARK: SERIAL vs OPENMP
========================================================================

Test 1: Resize 512x512 ‚Üí 2048x2048
------------------------------------------------------------------------
  [SERIAL]       Waktu:    856 ms
  [OpenMP-2]     Waktu:    468 ms  |  Speedup: 1.83x
  [OpenMP-4]     Waktu:    245 ms  |  Speedup: 3.49x
  [OpenMP-8]     Waktu:    152 ms  |  Speedup: 5.63x


Test 2: Resize 1024x1024 ‚Üí 2048x2048
------------------------------------------------------------------------
  [SERIAL]       Waktu:   2340 ms
  [OpenMP-2]     Waktu:   1250 ms  |  Speedup: 1.87x
  [OpenMP-4]     Waktu:    680 ms  |  Speedup: 3.44x
  [OpenMP-8]     Waktu:    420 ms  |  Speedup: 5.57x


Test 3: Resize 2048x2048 ‚Üí 2048x2048
------------------------------------------------------------------------
  [SERIAL]       Waktu:   4680 ms
  [OpenMP-2]     Waktu:   2510 ms  |  Speedup: 1.86x
  [OpenMP-4]     Waktu:   1365 ms  |  Speedup: 3.43x
  [OpenMP-8]     Waktu:    845 ms  |  Speedup: 5.54x

========================================================================</pre>
            </div>
        </div>

        <!-- SECTION 5: CARA COMPILE & RUN -->
        <div class="section">
            <h2>5. CARA COMPILE & RUN</h2>

            <h3>Compile Serial</h3>
            <div class="code-box">
gcc -o bilinear bilinear.c -O3
            </div>

            <h3>Compile dengan OpenMP</h3>
            <div class="code-box">
gcc -o bilinear bilinear.c -O3 -fopenmp -DUSE_OPENMP
            </div>

            <h3>Menjalankan Program</h3>
            <div class="code-box">
./bilinear
            </div>
        </div>

        <footer>
            <p><strong>Bilinear Interpolation - Dokumentasi Interaktif</strong></p>
            <p>Algoritma Komputasi S2 - 2025 | Andi Agung Dwi Arya</p>
            <p style="margin-top: 10px;">File: bilinear.c | README_COMPARISON.md</p>
        </footer>
    </div>

    <script>
        // ====================================================================
        // CANVAS 1: VISUALISASI 4 TETANGGA
        // ====================================================================
        (function() {
            const canvas = document.getElementById('canvas1');
            if (!canvas) return;
            const ctx = canvas.getContext('2d');

            ctx.fillStyle = '#fff';
            ctx.fillRect(0, 0, 400, 400);

            const size = 140;
            const offset = 80;

            // Grid
            ctx.strokeStyle = '#ddd';
            ctx.lineWidth = 1;
            for(let i = 0; i <= 2; i++) {
                ctx.beginPath();
                ctx.moveTo(offset, offset + i*size);
                ctx.lineTo(offset + 2*size, offset + i*size);
                ctx.stroke();

                ctx.beginPath();
                ctx.moveTo(offset + i*size, offset);
                ctx.lineTo(offset + i*size, offset + 2*size);
                ctx.stroke();
            }

            // 4 tetangga
            const points = [
                {x: offset, y: offset, label: 'f‚ÇÄ‚ÇÄ', coord: '(x‚ÇÄ,y‚ÇÄ)'},
                {x: offset+size, y: offset, label: 'f‚ÇÅ‚ÇÄ', coord: '(x‚ÇÅ,y‚ÇÄ)'},
                {x: offset, y: offset+size, label: 'f‚ÇÄ‚ÇÅ', coord: '(x‚ÇÄ,y‚ÇÅ)'},
                {x: offset+size, y: offset+size, label: 'f‚ÇÅ‚ÇÅ', coord: '(x‚ÇÅ,y‚ÇÅ)'}
            ];

            points.forEach(p => {
                ctx.fillStyle = '#fff';
                ctx.strokeStyle = '#000';
                ctx.lineWidth = 2;
                ctx.beginPath();
                ctx.arc(p.x, p.y, 8, 0, Math.PI*2);
                ctx.fill();
                ctx.stroke();

                ctx.fillStyle = '#000';
                ctx.font = 'bold 16px Georgia';
                ctx.textAlign = 'center';
                ctx.fillText(p.label, p.x, p.y - 20);
                ctx.font = '12px Georgia';
                ctx.fillText(p.coord, p.x, p.y - 35);
            });

            // Titik P
            const px = offset + size*0.6;
            const py = offset + size*0.6;

            ctx.fillStyle = '#000';
            ctx.beginPath();
            ctx.arc(px, py, 10, 0, Math.PI*2);
            ctx.fill();

            ctx.fillStyle = '#fff';
            ctx.font = 'bold 14px Georgia';
            ctx.fillText('P', px, py + 5);

            ctx.fillStyle = '#000';
            ctx.font = 'bold 16px Georgia';
            ctx.fillText('P(x,y)', px, py + 28);

            // Garis putus-putus
            ctx.strokeStyle = '#999';
            ctx.setLineDash([5, 5]);
            ctx.beginPath();
            ctx.moveTo(px, offset);
            ctx.lineTo(px, offset + 2*size);
            ctx.stroke();
            ctx.beginPath();
            ctx.moveTo(offset, py);
            ctx.lineTo(offset + 2*size, py);
            ctx.stroke();
            ctx.setLineDash([]);

            // Label fx, fy
            ctx.fillStyle = '#666';
            ctx.font = '14px Georgia';
            ctx.fillText('fx ‚Üí', px + 35, py);
            ctx.fillText('‚Üì fy', px, py + 40);
        })();

        // ====================================================================
        // CANVAS 2: VISUALISASI BOBOT
        // ====================================================================
        (function() {
            const canvas = document.getElementById('canvas2');
            if (!canvas) return;
            const ctx = canvas.getContext('2d');

            ctx.fillStyle = '#fff';
            ctx.fillRect(0, 0, 450, 350);

            const w = 150, h = 120;
            const ox = 80, oy = 60;

            // Contoh: fx=0.6, fy=0.65
            const fx = 0.6, fy = 0.65;

            // Gambar 4 area bobot dengan opacity
            const areas = [
                {x: ox, y: oy, w: w*(1-fx), h: h*(1-fy), label: 'w‚ÇÄ‚ÇÄ', value: ((1-fx)*(1-fy)).toFixed(3), alpha: (1-fx)*(1-fy)},
                {x: ox+w*(1-fx), y: oy, w: w*fx, h: h*(1-fy), label: 'w‚ÇÅ‚ÇÄ', value: (fx*(1-fy)).toFixed(3), alpha: fx*(1-fy)},
                {x: ox, y: oy+h*(1-fy), w: w*(1-fx), h: h*fy, label: 'w‚ÇÄ‚ÇÅ', value: ((1-fx)*fy).toFixed(3), alpha: (1-fx)*fy},
                {x: ox+w*(1-fx), y: oy+h*(1-fy), w: w*fx, h: h*fy, label: 'w‚ÇÅ‚ÇÅ', value: (fx*fy).toFixed(3), alpha: fx*fy}
            ];

            areas.forEach(a => {
                ctx.globalAlpha = a.alpha * 0.8 + 0.2;
                ctx.fillStyle = '#0066cc';
                ctx.fillRect(a.x, a.y, a.w, a.h);
                ctx.globalAlpha = 1;

                ctx.strokeStyle = '#000';
                ctx.lineWidth = 2;
                ctx.strokeRect(a.x, a.y, a.w, a.h);

                ctx.fillStyle = '#000';
                ctx.font = 'bold 14px Georgia';
                ctx.textAlign = 'center';
                ctx.fillText(a.label, a.x + a.w/2, a.y + a.h/2 - 5);
                ctx.font = '12px Georgia';
                ctx.fillText('= ' + a.value, a.x + a.w/2, a.y + a.h/2 + 10);
            });

            // Titik P
            const px = ox + w*(1-fx), py = oy + h*(1-fy);
            ctx.fillStyle = '#f00';
            ctx.beginPath();
            ctx.arc(px, py, 6, 0, Math.PI*2);
            ctx.fill();

            // Keterangan
            ctx.fillStyle = '#000';
            ctx.font = '13px Georgia';
            ctx.textAlign = 'left';
            ctx.fillText('fx = ' + fx.toFixed(2), ox + w + 20, oy + 30);
            ctx.fillText('fy = ' + fy.toFixed(2), ox + w + 20, oy + 50);
            ctx.fillText('Total = 1.00', ox + w + 20, oy + 80);
        })();

        // ====================================================================
        // CANVAS 3: GRAFIK SPEEDUP
        // ====================================================================
        (function() {
            const canvas = document.getElementById('canvas3');
            if (!canvas) return;
            const ctx = canvas.getContext('2d');

            ctx.fillStyle = '#fff';
            ctx.fillRect(0, 0, 700, 450);

            // Axes
            ctx.strokeStyle = '#000';
            ctx.lineWidth = 2;
            ctx.beginPath();
            ctx.moveTo(70, 380);
            ctx.lineTo(650, 380);
            ctx.moveTo(70, 50);
            ctx.lineTo(70, 380);
            ctx.stroke();

            // Labels
            ctx.font = '14px Georgia';
            ctx.textAlign = 'center';
            ctx.fillStyle = '#000';
            ctx.fillText('Number of Threads', 360, 425);

            ctx.save();
            ctx.translate(25, 215);
            ctx.rotate(-Math.PI/2);
            ctx.fillText('Speedup', 0, 0);
            ctx.restore();

            // X-axis
            const threads = [1, 2, 4, 8];
            threads.forEach((t, i) => {
                const x = 150 + i * 160;
                ctx.fillText(t, x, 400);
                ctx.beginPath();
                ctx.moveTo(x, 380);
                ctx.lineTo(x, 385);
                ctx.stroke();
            });

            // Y-axis
            for(let i = 0; i <= 8; i++) {
                const y = 380 - i * 40;
                ctx.textAlign = 'right';
                ctx.fillText(i, 60, y + 5);
                ctx.beginPath();
                ctx.moveTo(65, y);
                ctx.lineTo(70, y);
                ctx.stroke();
            }

            // Grid
            ctx.strokeStyle = '#f0f0f0';
            ctx.lineWidth = 1;
            for(let i = 1; i <= 8; i++) {
                const y = 380 - i * 40;
                ctx.beginPath();
                ctx.moveTo(70, y);
                ctx.lineTo(650, y);
                ctx.stroke();
            }

            // Ideal line
            ctx.strokeStyle = '#ccc';
            ctx.lineWidth = 2;
            ctx.setLineDash([8, 8]);
            ctx.beginPath();
            ctx.moveTo(150, 380);
            ctx.lineTo(630, 60);
            ctx.stroke();
            ctx.setLineDash([]);

            // OpenMP data
            const data = [
                {x: 150, s: 1.00},
                {x: 310, s: 1.87},
                {x: 470, s: 3.44},
                {x: 630, s: 5.57}
            ];

            ctx.strokeStyle = '#000';
            ctx.lineWidth = 3;
            ctx.beginPath();
            ctx.moveTo(data[0].x, 380 - data[0].s * 40);
            data.forEach(d => ctx.lineTo(d.x, 380 - d.s * 40));
            ctx.stroke();

            data.forEach(d => {
                ctx.fillStyle = '#fff';
                ctx.strokeStyle = '#000';
                ctx.lineWidth = 2;
                ctx.beginPath();
                ctx.arc(d.x, 380 - d.s * 40, 6, 0, Math.PI*2);
                ctx.fill();
                ctx.stroke();

                // Label speedup
                ctx.fillStyle = '#000';
                ctx.font = '11px Georgia';
                ctx.textAlign = 'center';
                ctx.fillText(d.s.toFixed(2) + 'x', d.x, 380 - d.s * 40 - 12);
            });

            // Legend
            ctx.textAlign = 'left';
            ctx.font = '12px Georgia';
            ctx.strokeStyle = '#ccc';
            ctx.lineWidth = 2;
            ctx.setLineDash([8, 8]);
            ctx.beginPath();
            ctx.moveTo(480, 100);
            ctx.lineTo(530, 100);
            ctx.stroke();
            ctx.setLineDash([]);
            ctx.fillStyle = '#666';
            ctx.fillText('Ideal (Linear)', 540, 105);

            ctx.strokeStyle = '#000';
            ctx.lineWidth = 3;
            ctx.beginPath();
            ctx.moveTo(480, 125);
            ctx.lineTo(530, 125);
            ctx.stroke();
            ctx.fillStyle = '#000';
            ctx.fillText('OpenMP (Actual)', 540, 130);
        })();
    </script>
</body>
</html>
